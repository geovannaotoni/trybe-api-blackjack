(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();let i;const m=document.querySelector(".shuffle"),l=document.querySelector(".draw"),u=document.querySelector(".stop"),h=document.getElementsByClassName("reset")[0],r={1:0,2:0},a=21,g=()=>{fetch("https://deckofcardsapi.com/api/deck/new/shuffle/").then(e=>e.json()).then(e=>{i=e.deck_id,m.disabled=!0,u.disabled=!1,l.disabled=!1}).catch(e=>{console.log(`Erro ao fazer a requisicao: ${e.message}`)})},p=()=>{const e=document.getElementsByClassName("hidden")[0],t=document.getElementById("result"),{1:n,2:o}=r;n>a||n<o&&o<=a?(e.src="assets/lose.png",t.innerText="VOCÊ PERDEU"):t.innerText="VOCÊ GANHOU",e.classList.remove("hidden");const s=document.querySelector(".player-2.score");s.textContent=o,u.disabled=!0,l.disabled=!0,h.disabled=!1},f=(e,t)=>{if(t===1){const o=document.createElement("img");o.src=e.image,o.alt=`${e.value} of ${e.suit}`,o.classList.add("card"),document.querySelector(`.player-${t}.cards`).appendChild(o)}switch(e.value){case"ACE":r[t]+=1;break;case"JACK":r[t]+=11;break;case"QUEEN":r[t]+=12;break;case"KING":r[t]+=13;break;default:r[t]+=Number(e.value)}const n=document.querySelector(`.player-${t}.score`);t===1&&(n.textContent=r[t]),r[1]>=a&&p()},y=()=>{fetch(`https://deckofcardsapi.com/api/deck/${i}/draw`).then(e=>e.json()).then(e=>{const t=e.cards[0];f(t,1)}),fetch(`https://deckofcardsapi.com/api/deck/${i}/draw`).then(e=>e.json()).then(e=>{const t=e.cards[0];f(t,2)})};m.addEventListener("click",g);l.addEventListener("click",y);u.addEventListener("click",p);h.addEventListener("click",()=>{window.location.reload(!0)});
